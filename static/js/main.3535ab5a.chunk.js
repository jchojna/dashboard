(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{192:function(e,a,t){},194:function(e,a,t){e.exports=t.p+"static/media/icons.d78c54d1.svg"},238:function(e,a,t){e.exports=t(386)},243:function(e,a,t){},244:function(e,a,t){},245:function(e,a,t){},246:function(e,a,t){},247:function(e,a,t){},248:function(e,a,t){},384:function(e,a,t){},385:function(e,a,t){},386:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),o=t(193),i=t.n(o),c=(t(243),t(13)),s=t(7),l=t(65),u=t(34),d=t(35),m=t(38),p=t(37),f=t(36),h=t.n(f),b=t(44),v={Afghanistan:"AFG",Albania:"ALB",Algeria:"DZA","American Samoa":"ASM",Andorra:"AND",Angola:"AGO",Anguilla:"AIA",Antarctica:"ATA","Antigua and Barbuda":"ATG",Argentina:"ARG",Armenia:"ARM",Aruba:"ABW",Australia:"AUS",Austria:"AUT",Azerbaijan:"AZE",Bahamas:"BHS",Bahrain:"BHR",Bangladesh:"BGD",Barbados:"BRB",Belarus:"BLR",Belgium:"BEL",Belize:"BLZ",Benin:"BEN",Bermuda:"BMU",Bhutan:"BTN",Bolivia:"BOL","Bosnia and Herzegovina":"BIH",Botswana:"BWA",Brazil:"BRA","British Indian Ocean Territory":"IOT","British Virgin Islands":"VGB",Brunei:"BRN",Bulgaria:"BGR","Burkina Faso":"BFA",Burundi:"BDI",Cambodia:"KHM",Cameroon:"CMR",Canada:"CAN","Cape Verde":"CPV","Cayman Islands":"CYM","Central African Republic":"CAF",Chad:"TCD",Chile:"CHL",China:"CHN","Christmas Island":"CXR","Cocos Islands":"CCK",Colombia:"COL",Comoros:"COM","Cook Islands":"COK","Costa Rica":"CRI",Croatia:"HRV",Cuba:"CUB",Curacao:"CUW",Cyprus:"CYP","Czech Republic":"CZE",Congo:"COD",Denmark:"DNK",Djibouti:"DJI",Dominica:"DMA","Dominican Republic":"DOM","East Timor":"TLS",Ecuador:"ECU",Egypt:"EGY","El Salvador":"SLV","Equatorial Guinea":"GNQ",Eritrea:"ERI",Estonia:"EST",Ethiopia:"ETH","Falkland Islands":"FLK","Faroe Islands":"FRO",Fiji:"FJI",Finland:"FIN",France:"FRA","French Polynesia":"PYF",Gabon:"GAB",Gambia:"GMB",Georgia:"GEO",Germany:"DEU",Ghana:"GHA",Gibraltar:"GIB",Greece:"GRC",Greenland:"GRL",Grenada:"GRD",Guam:"GUM",Guatemala:"GTM",Guernsey:"GGY",Guinea:"GIN","Guinea-Bissau":"GNB",Guyana:"GUY",Haiti:"HTI",Honduras:"HND","Hong Kong":"HKG",Hungary:"HUN",Iceland:"ISL",India:"IND",Indonesia:"IDN",Iran:"IRN",Iraq:"IRQ",Ireland:"IRL","Isle of Man":"IMN",Israel:"ISR",Italy:"ITA","Ivory Coast":"CIV",Jamaica:"JAM",Japan:"JPN",Jersey:"JEY",Jordan:"JOR",Kazakhstan:"KAZ",Kenya:"KEN",Kiribati:"KIR",Kosovo:"XKX",Kuwait:"KWT",Kyrgyzstan:"KGZ",Laos:"LAO",Latvia:"LVA",Lebanon:"LBN",Lesotho:"LSO",Liberia:"LBR",Libya:"LBY",Liechtenstein:"LIE",Lithuania:"LTU",Luxembourg:"LUX",Macau:"MAC",Macedonia:"MKD",Madagascar:"MDG",Malawi:"MWI",Malaysia:"MYS",Maldives:"MDV",Mali:"MLI",Malta:"MLT","Marshall Islands":"MHL",Mauritania:"MRT",Mauritius:"MUS",Mayotte:"MYT",Mexico:"MEX",Micronesia:"FSM",Moldova:"MDA",Monaco:"MCO",Mongolia:"MNG",Montenegro:"MNE",Montserrat:"MSR",Morocco:"MAR",Mozambique:"MOZ",Myanmar:"MMR",Namibia:"NAM",Nauru:"NRU",Nepal:"NPL",Netherlands:"NLD","Netherlands Antilles":"ANT","New Caledonia":"NCL","New Zealand":"NZL",Nicaragua:"NIC",Niger:"NER",Nigeria:"NGA",Niue:"NIU","North Korea":"PRK","Northern Mariana Islands":"MNP",Norway:"NOR",Oman:"OMN",Pakistan:"PAK",Palau:"PLW",Palestine:"PSE",Panama:"PAN","Papua New Guinea":"PNG",Paraguay:"PRY",Peru:"PER",Philippines:"PHL",Pitcairn:"PCN",Poland:"POL",Portugal:"PRT","Puerto Rico":"PRI",Qatar:"QAT","Republic of the Congo":"COG",Reunion:"REU",Romania:"ROU",Russia:"RUS",Rwanda:"RWA","Saint Barthelemy":"BLM","Saint Helena":"SHN","Saint Kitts and Nevis":"KNA","Saint Lucia":"LCA","Saint Martin":"MAF","Saint Pierre and Miquelon":"SPM","Saint Vincent and the Grenadines":"VCT",Samoa:"WSM","San Marino":"SMR","Sao Tome and Principe":"STP","Saudi Arabia":"SAU",Senegal:"SEN",Serbia:"SRB",Seychelles:"SYC","Sierra Leone":"SLE",Singapore:"SGP","Sint Maarten":"SXM",Slovakia:"SVK",Slovenia:"SVN","Solomon Islands":"SLB",Somalia:"SOM","South Africa":"ZAF","South Korea":"KOR","South Sudan":"SSD",Spain:"ESP","Sri Lanka":"LKA",Sudan:"SDN",Suriname:"SUR","Svalbard and Jan Mayen":"SJM",Swaziland:"SWZ",Sweden:"SWE",Switzerland:"CHE",Syria:"SYR",Taiwan:"TWN",Tajikistan:"TJK",Tanzania:"TZA",Thailand:"THA",Togo:"TGO",Tokelau:"TKL",Tonga:"TON","Trinidad and Tobago":"TTO",Tunisia:"TUN",Turkey:"TUR",Turkmenistan:"TKM","Turks and Caicos Islands":"TCA",Tuvalu:"TUV","U.S. Virgin Islands":"VIR",Uganda:"UGA",Ukraine:"UKR","United Arab Emirates":"ARE","United Kingdom":"GBR","United States":"USA",Uruguay:"URY",Uzbekistan:"UZB",Vanuatu:"VUT",Vatican:"VAT",Venezuela:"VEN",Vietnam:"VNM","Wallis and Futuna":"WLF","Western Sahara":"ESH",Yemen:"YEM",Zambia:"ZMB",Zimbabwe:"ZWE"},y={profit:"Total Profit",users:"Active users",orders:"New orders",complaints:"Open complaints"},g={today:"Today",yesterday:"Yesterday",week:"Last Week",month:"Last Month",year:"Last Year"},O={0:"all months",1:"january",2:"february",3:"march",4:"april",5:"may",6:"june",7:"july",8:"august",9:"september",10:"october",11:"november",12:"december"},M=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],S=["st","nd","rd","th"],E=["histogram","map","summary"],A=function(e,a){return Math.floor(Math.random()*(a-e+1))+e},N=function(e){return e.toISOString().slice(0,10)},C=function(e,a){var t=Object(s.a)(e,4),n=t[0],r=t[1],o=t[2],i=t[3],c=function(e){var a,t=N(e).split("-").map((function(e){return parseInt(e)})),n=Object(s.a)(t,3),r=n[0],o=n[1],i=n[2],c=(a=i)>=4?S[3]:S[a-1];return[M[e.getDay()],i,c,O[o].split("").map((function(e,a){return 0===a?e.toUpperCase():e})).join(""),r]},l=c(n),u=Object(s.a)(l,5),d=u[0],m=u[1],p=u[2],f=u[3],h=u[4],b=c(r),v=Object(s.a)(b,5),y=v[0],g=v[1],E=v[2],A=v[3],C=v[4],j=c(o),I=Object(s.a)(j,5),_=I[0],w=I[1],B=I[2],D=I[3],R=I[4],k=c(i),T=Object(s.a)(k,5),L=T[0],x=T[1],P=T[2],G=T[3],U=T[4];switch(a.toLowerCase()){case"today":case"yesterday":return"\n      ".concat(y,", ").concat(g).concat(E,"\n      ").concat(G!==A?"of ".concat(A):"","\n      vs.\n      ").concat(L,", ").concat(x).concat(P," of ").concat(G,"\n    ");case"week":case"month":case"year":return"\n      ".concat(y,", ").concat(g).concat(E,"\n      ").concat(A!==f||C!==h?"of ".concat(A):"","\n      ").concat(C!==h?", ".concat(C):"","\n\n      -\n\n      ").concat(d,", ").concat(m).concat(p,"\n      ").concat(f!==D||h!==R?"of ".concat(f):"","\n      ").concat(R!==h?", ".concat(h):"","\n      \n\n      vs.\n      \n      ").concat(L,", ").concat(x).concat(P,"\n      ").concat(G!==D||U!==R?"of ".concat(G):"","\n      ").concat(U!==R?", ".concat(U):"","\n\n      -\n\n      ").concat(_,", ").concat(w).concat(B,"\n\n      of ").concat(D,", ").concat(R,"\n    ");default:return!1}},j=function(e){var a=new Date;return Object.entries({today:[0,0,1,0],yesterday:[1,0,1,0],week:[1,6,1,6],month:[1,27,1,27],year:[1,364,1,364]}).find((function(a){var t=Object(s.a)(a,2),n=t[0];t[1];return n===e}))[1].map((function(e){return new Date(a.setDate(a.getDate()-e))}))},I=function(e,a,t){var n=0,r=0,o=Object(s.a)(t,4),i=o[0],c=o[1],l=o[2],u=o[3];Object.values(e).forEach((function(e){var t=function(a){return Object.keys(e).findIndex((function(e){return e===N(a)}))},o=t(i),s=t(c),d=t(l),m=t(u),p=function(t,n){return Object.values(e).map((function(e){return e[a]})).reduce((function(e,a,r){return r>=t&&r<=n&&(e+=a),e}),0)};r+=p(m,d),n+=p(s,o)}));var d=0!==r?(n/r*100).toFixed(1):100;return[n,d]},_=function(e){for(var a=(new Date).getFullYear(),t=Object.values(e).map((function(e){return Object.keys(e)[0].split("-")[0]})),n=[],r=parseInt(Object(b.a)(new Set(Object(b.a)(t))).sort()[0]);r<=a;r++)n.push(r);return n.sort((function(e,a){return a-e}))},w=function(e){var a=document.querySelector("svg[class*=".concat(e,"]"));if(a)return window.getComputedStyle(a).getPropertyValue("background-color");return{profit:"rgb(41, 191, 215)",users:"rgb(188, 215, 74)",orders:"rgb(254, 152, 51)",complaints:"rgb(250, 80, 80)"}[e]},B=function(e){return e<10?"0".concat(e):"".concat(e)},D=function(e,a){if(0===e.length)return e;if("days"===a){for(var t=e[0].split("-"),n=Object(s.a)(t,3),r=n[0],o=n[1],i=n[2],c=parseInt(i)-1;c>0;c--)e.unshift("".concat(r,"-").concat(o,"-").concat(B(c)));return e}if("months"===a){for(var l=e[0],u=e[e.length-1],d=l.split("-"),m=Object(s.a)(d,2),p=m[0],f=m[1],h=u.split("-"),b=Object(s.a)(h,2),v=b[0],y=b[1],g=parseInt(f)-1,O=parseInt(y)+1,M=g;M>0;M--)e.unshift("".concat(p,"-").concat(B(M)));for(var S=O;S<=12;S++)e.push("".concat(v,"-").concat(B(S)));return e}},R=function(e,a){var t=e.map((function(e){return Object(s.a)(e,1)[0]})),n=Object(b.a)(new Set(t)),r=n.map((function(e){return e.split("-").slice(0,2).join("-")})),o=Object(b.a)(new Set(r)),i=D(n,"days"),c=D(o,"months");return a?c:i},k=function(e,a,t,n){var r={},o={},i=w(a).match(/\d+/g),c=Object(s.a)(i,3),l=c[0],u=c[1],d=c[2],m=parseInt(t),p=parseInt(n);Object.entries(e).forEach((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];o[n]=Object.entries(r).filter((function(e){var a=Object(s.a)(e,1)[0].split("-").map((function(e){return parseInt(e)})),t=Object(s.a)(a,2),n=t[0],r=t[1];return(0===m||r===m)&&n===p})).map((function(e){var t=Object(s.a)(e,2);t[0];return t[1][a]})).reduce((function(e,a){return e+a}),0)}));var f=Object.values(o),h=Math.max.apply(Math,Object(b.a)(f)),y=f.reduce((function(e,a){return e+a}),0);return Object.keys(e).forEach((function(e){var t=v[e];if(t){var n=o[e],i=n/y*100,c=n/h*.9+.1;n&&(r[t]={fillColor:"rgba(".concat(l,",").concat(u,",").concat(d,",").concat(c,")"),countryTotal:n,countryPercent:i,field:a})}})),r},T=function(e,a,t,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=parseInt(t),i=parseInt(n),l=[];Object.values(e).forEach((function(e){l.push.apply(l,Object(b.a)(Object.entries(e)))}));var u=l.filter((function(e){var a=Object(s.a)(e,1)[0].split("-").map((function(e){return parseInt(e)})),t=Object(s.a)(a,2),n=t[0],c=t[1];return r?n<i||n===i&&c<o:(0===o||c===o)&&n===i})).sort((function(e,a){var t=Object(s.a)(e,1)[0],n=Object(s.a)(a,1)[0],r=function(e){return parseInt(e.split("-").join(""))};return r(t)-r(n)})),d=0===o,m=R(u,d),p=m.map((function(e,n){var r=u.filter((function(a){return Object(s.a)(a,1)[0].includes(e)})).map((function(e){var t=Object(s.a)(e,2);t[0];return t[1][a]})).reduce((function(e,a){return e+a}),0);return Object(c.a)({id:"".concat(n+1," ").concat(O[t])},a,r)}));return p},L=function(e,a,t){var n=function(n,r){return T(e,n,a,t,r).map((function(e){return e[n]})).reduce((function(e,a){return e+a}),0)};return function(){var e=[];for(var a in y){var t,r=n(a,!0),o=n(a,!1),i=r+o,s=0===i?0:r/i*100,l=0===i?0:o/i*100;e.unshift((t={id:a},Object(c.a)(t,"".concat(a,"Before"),s),Object(c.a)(t,"".concat(a,"Current"),l),t))}return e}()},x=function(e){var a={};return e.forEach((function(e){var t=e.country,n=Object(s.a)(e.startDate,3),r=n[0],o=n[1],i=n[2],c=new Date(r,o-1,i),l=new Date,u=N(c),d=N(l);for(a[t]={};u!==d;)c.setDate(c.getDate()+1),u=N(c),a[t][u]={},a[t][u].profit=A(0,3e3),a[t][u].users=A(0,80),a[t][u].orders=A(0,50),a[t][u].complaints=A(0,5)})),a},P=[{country:"Poland",startDate:[2017,12,5]},{country:"United States",startDate:[2018,5,24]}],G=t(194),U=t.n(G),V=(t(244),function(e){var a,t=e.id,n=e.type,o=e.isRotated,i=h()("Icon","Icon--".concat(t),(a={},Object(c.a)(a,"Icon--".concat(n),n),Object(c.a)(a,"Icon--rotated",o),a));return r.a.createElement("svg",{className:i,viewBox:"0 0 100 100"},r.a.createElement("use",{href:"".concat(U.a,"#").concat(t)}))}),z=(t(245),function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(u.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){n.handleValue()},n.componentDidUpdate=function(){n.intervalId||(n.setState({animatedValue:0}),n.handleValue())},n.componentWillUnmount=function(){clearInterval(n.intervalId),n.intervalId=null},n.handleValue=function(){n.intervalId=setInterval((function(){var e=n.state.animatedValue,a=n.props.value,t=Math.ceil(a/80);Math.abs(e)<=Math.abs(a)?n.setState((function(e){return{animatedValue:e.animatedValue+t}})):(n.setState({animatedValue:a}),clearInterval(n.intervalId),n.intervalId=null)}),10)},n.intervalId=null,n.state={animatedValue:0},n}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,a=e.id,t=e.heading,n=e.percentage,o=this.state.animatedValue,i=h()("TextPanel__percentage",{"TextPanel__percentage--positive":n>=100,"TextPanel__percentage--negative":n<100}),c=0!==n?"".concat(n,"%"):"stable",s=n>100;return r.a.createElement("section",{className:"TextPanel TextPanel--".concat(a)},r.a.createElement("header",{className:"TextPanel__header"},r.a.createElement("h3",{className:"TextPanel__heading"},t),r.a.createElement(V,{id:a,type:"infographic"})),r.a.createElement("p",{className:"TextPanel__value"},o),r.a.createElement("div",{className:i},r.a.createElement(V,{id:"indicator",isRotated:s}),r.a.createElement("span",null,c)))}}]),t}(n.Component)),K=(t(246),function(e){var a=e.id,t=e.heading,n=e.isMaximized,o=e.onMaximize,i=n?"minimize":"maximize";return r.a.createElement("section",{className:"VisualPanel VisualPanel--".concat(a)},r.a.createElement("header",{className:"VisualPanel__header"},r.a.createElement("h3",{className:"VisualPanel__heading"},t),r.a.createElement("button",{className:"VisualPanel__button",onClick:function(){return o(a)}},r.a.createElement(V,{id:i}))),e.children)}),F=(t(247),function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(u.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){document.addEventListener("mousedown",n.exitDropdownMenu,!1)},n.componentWillUnmount=function(){document.removeEventListener("mousedown",n.exitDropdownMenu,!1)},n.exitDropdownMenu=function(e){n.state.isOpen&&!n.dropdown.current.contains(e.target)&&n.toggleDropdown()},n.toggleDropdown=function(){n.setState((function(e){return{isOpen:!e.isOpen}}))},n.handleMenu=function(e){var a=n.props,t=a.type,r=a.onMenuClick;n.toggleDropdown(),"period"===t?r(e):r(t,e)},n.renderMenu=function(){var e=n.props,a=e.type,t=e.menuList,o=Array.isArray(t),i=o?t:Object.keys(t),c="\n      Dropdown__button\n      Dropdown__button--menu\n      Dropdown__button--".concat(a,"\n    ");return r.a.createElement("ul",{className:"Dropdown__list"},i.map((function(e){var a=o?e:t[e];return r.a.createElement("li",{key:e,className:"Dropdown__item"},r.a.createElement("button",{className:c,onClick:function(){return n.handleMenu(e)}},a))})))},n.dropdown=r.a.createRef(),n.state={isOpen:!1},n}return Object(d.a)(t,[{key:"render",value:function(){var e=this.state.isOpen,a=this.props,t=a.type,n=a.currentId,o=a.menuList,i=Array.isArray(o)?n:o[n],c=h()("Dropdown__button","Dropdown__button--".concat(t),{"Dropdown__button--active":e});return r.a.createElement("div",{className:"Dropdown Dropdown--".concat(t),ref:this.dropdown},r.a.createElement("button",{className:c,onClick:this.toggleDropdown},r.a.createElement("span",{className:"Dropdown__label"},i),r.a.createElement(V,{id:"dropdown",isRotated:e})),e&&this.renderMenu())}}]),t}(n.Component)),W=(t(248),function(e){var a=e.id,t=e.onClick;return r.a.createElement("button",{className:"Button Button--".concat(a),onClick:t},r.a.createElement("span",{className:"Button__text"},a),r.a.createElement(V,{id:a,type:"infographic"}))}),H=t(195),Y=(t(192),function(e){var a=e.data,t=e.keys,n=e.type,o=e.layout,i=e.margin,c=e.axisRight,s=void 0===c?null:c,l=e.axisBottom,u=void 0===l?null:l,d=e.colors,m=e.enableGridX,p=void 0!==m&&m,f=e.enableGridY,h=void 0!==f&&f,b={from:"color",modifiers:[["darker","1.6"]]};return r.a.createElement("div",{className:"Histogram"},r.a.createElement(H.a,{data:a,keys:t,indexBy:"id",margin:i,padding:.6,layout:o,colors:function(e){return d(e.id)},colorBy:"id",borderColor:b,axisTop:null,axisRight:s,axisBottom:u,axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,tickValues:3},enableLabel:!1,enableGridX:p,enableGridY:h,gridXValues:[20,40,60,80],gridYValues:5,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:b,legends:[],tooltip:function(e){var a=e.id,t=e.value,o=e.indexValue,i="histogram"===n&&o.includes("all")?O[parseInt(o)]:null,c="histogram"===n?"".concat(y[a],": ").concat(t).concat("profit"===a?" $":""):"".concat(o,": ").concat(t.toFixed(1),"%"),s="histogram"===n?i||"Date: ".concat(o):"".concat(a.includes("Before")?"Before current period":"During current period");return r.a.createElement("div",{className:"tooltip"},r.a.createElement("h4",{className:"tooltip__heading"},c),r.a.createElement("p",{className:"tooltip__text"},s))},theme:{axis:{textColor:"#fff",textTransform:"uppercase",tickColor:"#fff",ticks:{line:{stroke:"fff"},text:{fill:"#555",fontWeight:"bold",fontFamily:"Nunito",fontSize:"11px",textTransform:"uppercase"}}},grid:{line:{stroke:"#fff",strokeWidth:3,strokeDasharray:"3 3"}},tooltip:{container:{padding:"10px 15px",borderRadius:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.3)"}}},animate:!0,motionStiffness:75,motionDamping:10}))}),Z=t(204),J=t.n(Z),X=t(68),q=t.n(X),Q=(t(384),function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(u.a)(this,t),(n=a.call(this,e)).resize=function(){n.map&&n.map.resize()},n.clear=function(){for(var e=n.container.current,a=0,t=Array.from(e.childNodes);a<t.length;a++){var r=t[a];e.removeChild(r)}},n.drawMap=function(){var e=n.props.data,a=new J.a(Object.assign({},Object(l.a)({},n.props),{element:n.container.current,projection:"mercator",responsive:!0,fills:{defaultFill:"#fff"},data:e,geographyConfig:{borderWidth:.5,borderOpacity:1,borderColor:"#fff",highlightFillColor:function(e){return e.fillColor||"#fff"},highlightBorderColor:function(e){return e.field?"#555":"#fff"},highlightBorderWidth:1,popupTemplate:function(e,a){var t=a.countryPercent,n=a.field;if(a)return'\n                <div class="hoverinfo tooltip">\n                  <h4 class="tooltip__heading">'.concat(e.properties.name,'</h4>\n                  <p class="tooltip__text">').concat(n,": ").concat(a.countryTotal,'</p>\n                  <p class="tooltip__text">Share: ').concat(t.toFixed(1),"%</p>\n                </div>            \n              ")}},done:function(e){e.svg.call(q.a.behavior.zoom().scaleExtent([1,10]).on("zoom",(function(){e.svg.selectAll("g").attr("transform","translate("+q.a.event.translate+")scale("+q.a.event.scale+")")})))}}));n.map=a,n.container.current.style.paddingBottom=0},n.container=r.a.createRef(),n}return Object(d.a)(t,[{key:"componentDidMount",value:function(){this.drawMap(),window.addEventListener("resize",this.resize)}},{key:"componentWillReceiveProps",value:function(){this.clear()}},{key:"componentDidUpdate",value:function(){this.drawMap()}},{key:"componentWillUnmount",value:function(){this.clear(),window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){return r.a.createElement("div",{ref:this.container,className:"Map"})}}]),t}(n.Component)),$=(t(385),function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(u.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){var e=n.state,a=e.data,t=e.stats.period,r=e.analytics,o=e.analytics,i=o.field,c=o.month,s=o.year,u=T,d=L,m=w,p=y,f=k(a,i,c,s),h=u(a,i,c,s),b=d(a,c,s),v={};Object.keys(p).forEach((function(e){return v[e]=m(e)})),n.handleStats(t),n.setState({yearsArray:_(a),analytics:Object(l.a)({},r,{mapData:f,histData:h,summaryData:b}),colors:v,isMounted:!0})},n.handleStats=function(e){var a=n.state.data,t=I,r=C,o=y,i=j(e);Object.keys(o).forEach((function(e){var r=t(a,e,i),o=Object(s.a)(r,2),l=o[0],u=o[1];n.setState(Object(c.a)({},e,{value:l,percentage:u}))}));var l={period:e,timeRanges:r(i,e)};n.setState({stats:l})},n.handleAnalytics=function(e,a){var t,r=n.state,o=r.data,i=r.analytics,s=n.state.analytics,u=s.field,d=s.month,m=s.year,p=T,f=L,h=w,b=k(o,u="field"===e?a:u,d="month"===e?a:d,m="year"===e?a:m),v=p(o,u,d,m),y="month"===e||"year"===e?f(o,d,m):i.summaryData,g="field"===e?h(a):n.state.accentColor;n.setState({analytics:Object(l.a)({},i,(t={},Object(c.a)(t,e,a),Object(c.a)(t,"mapData",b),Object(c.a)(t,"histData",v),Object(c.a)(t,"summaryData",y),t)),accentColor:g})},n.renderAnalytics=function(e){var a=n.state,t=a.analytics,o=t.field,i=t.mapData,c=t.histData,s=t.summaryData,l=a.colors;switch(e){case"histogram":return r.a.createElement(Y,{data:c,keys:[o],type:"histogram",layout:"vertical",margin:{top:60,right:30,bottom:30,left:60},colors:function(e){return l[e]},enableGridY:!0});case"map":return r.a.createElement(Q,{data:i});case"summary":return r.a.createElement(Y,{data:s,keys:["profitBefore","profitCurrent","usersBefore","usersCurrent","ordersBefore","ordersCurrent","complaintsBefore","complaintsCurrent"],type:"summary",layout:"horizontal",margin:{top:60,right:30,bottom:50,left:100},colors:function(e){return e.includes("Current")?l[e.replace("Current","")]:"#fff"},enableGridX:!0,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,tickValues:[20,40,60,80]}});default:return!1}},n.handleMaximize=function(e){n.setState((function(a){return{maximizedPanel:a.maximizedPanel===e?null:e}}))},n.handleExport=function(e,a,t){var n=new Blob([e],{type:t});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,a);else{var r=document.createElement("a"),o=URL.createObjectURL(n);r.href=o,r.download=a,document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(o)}),0)}},n.date=new Date,n.state={data:x(P),isMounted:!1,profit:{},users:{},orders:{},complaints:{},stats:{period:"week",timeRanges:""},analytics:{field:"profit",month:0,year:n.date.getFullYear(),mapData:{},histData:[],summaryData:[]},yearsArray:[],colors:{},maximizedPanel:null},n}return Object(d.a)(t,[{key:"render",value:function(){var e=this,a=this.state,t=a.data,n=a.stats,o=n.period,i=n.timeRanges,l=a.analytics,u=l.field,d=l.month,m=l.year,p=a.yearsArray,f=a.maximizedPanel,b=a.isMounted,v=y,M=g,S=E,A={field:[v,u],month:[O,d],year:[p,m]},N=h()("App__section","App__section--analytics",Object(c.a)({},"App__section--".concat(f,"Max"),f)),C=i?i.split("vs.")[0]:"",j=i?i.split("vs.")[1]:"";return r.a.createElement("main",{className:"App"},r.a.createElement("h1",{className:"App__heading"},"dashboard _"),r.a.createElement("section",{className:"App__section App__section--stats"},r.a.createElement("header",{className:"App__header App__header--stats"},r.a.createElement("h2",{className:"App__heading App__heading--section"},"Recent"),r.a.createElement("p",{className:"App__info"},r.a.createElement("span",{className:"App__info--current"},C," vs."),r.a.createElement("span",{className:"App__info--before"},j)),r.a.createElement(F,{currentId:o,type:"period",menuList:M,onMenuClick:this.handleStats})),b&&Object.entries(v).map((function(a){var t=Object(s.a)(a,2),n=t[0],o=t[1],i=e.state[n],c=i.value,l=i.percentage;return r.a.createElement(z,{key:n,id:n,heading:o,value:c,percentage:l})}))),r.a.createElement("section",{className:N},r.a.createElement("header",{className:"App__header App__header--analytics"},r.a.createElement("h2",{className:"App__heading App__heading--section"},"Analytics"),Object.entries(A).map((function(a){var t=Object(s.a)(a,2),n=t[0],o=Object(s.a)(t[1],2),i=o[0],c=o[1];return r.a.createElement(F,{key:c,currentId:c,type:n,menuList:i,onMenuClick:e.handleAnalytics})}))),S.map((function(a){var t=e.state.maximizedPanel===a;return r.a.createElement(K,{key:a,id:a,heading:a,isMaximized:t,onMaximize:e.handleMaximize},e.renderAnalytics(a))})),r.a.createElement("footer",{className:"App__footer"},r.a.createElement(W,{id:"export",label:"export",onClick:function(){return e.handleExport(JSON.stringify(t),"dashboard","text/plain")}}),r.a.createElement(W,{id:"print",label:"print",onClick:function(){return window.print()}}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[238,1,2]]]);
//# sourceMappingURL=main.3535ab5a.chunk.js.map