(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{192:function(e,a,t){},194:function(e,a,t){e.exports=t.p+"static/media/icons.c9bc5a32.svg"},238:function(e,a,t){e.exports=t(387)},243:function(e,a,t){},244:function(e,a,t){},245:function(e,a,t){},246:function(e,a,t){},247:function(e,a,t){},248:function(e,a,t){},249:function(e,a,t){},385:function(e,a,t){},386:function(e,a,t){},387:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),i=t(193),o=t.n(i),c=(t(243),t(13)),s=t(39),l=t(7),u=t(35),d=t(36),m=t(38),p=t(37),f=t(16),h=t.n(f),b=t(45),v={Afghanistan:"AFG",Albania:"ALB",Algeria:"DZA","American Samoa":"ASM",Andorra:"AND",Angola:"AGO",Anguilla:"AIA",Antarctica:"ATA","Antigua and Barbuda":"ATG",Argentina:"ARG",Armenia:"ARM",Aruba:"ABW",Australia:"AUS",Austria:"AUT",Azerbaijan:"AZE",Bahamas:"BHS",Bahrain:"BHR",Bangladesh:"BGD",Barbados:"BRB",Belarus:"BLR",Belgium:"BEL",Belize:"BLZ",Benin:"BEN",Bermuda:"BMU",Bhutan:"BTN",Bolivia:"BOL","Bosnia and Herzegovina":"BIH",Botswana:"BWA",Brazil:"BRA","British Indian Ocean Territory":"IOT","British Virgin Islands":"VGB",Brunei:"BRN",Bulgaria:"BGR","Burkina Faso":"BFA",Burundi:"BDI",Cambodia:"KHM",Cameroon:"CMR",Canada:"CAN","Cape Verde":"CPV","Cayman Islands":"CYM","Central African Republic":"CAF",Chad:"TCD",Chile:"CHL",China:"CHN","Christmas Island":"CXR","Cocos Islands":"CCK",Colombia:"COL",Comoros:"COM","Cook Islands":"COK","Costa Rica":"CRI",Croatia:"HRV",Cuba:"CUB",Curacao:"CUW",Cyprus:"CYP","Czech Republic":"CZE",Congo:"COD",Denmark:"DNK",Djibouti:"DJI",Dominica:"DMA","Dominican Republic":"DOM","East Timor":"TLS",Ecuador:"ECU",Egypt:"EGY","El Salvador":"SLV","Equatorial Guinea":"GNQ",Eritrea:"ERI",Estonia:"EST",Ethiopia:"ETH","Falkland Islands":"FLK","Faroe Islands":"FRO",Fiji:"FJI",Finland:"FIN",France:"FRA","French Polynesia":"PYF",Gabon:"GAB",Gambia:"GMB",Georgia:"GEO",Germany:"DEU",Ghana:"GHA",Gibraltar:"GIB",Greece:"GRC",Greenland:"GRL",Grenada:"GRD",Guam:"GUM",Guatemala:"GTM",Guernsey:"GGY",Guinea:"GIN","Guinea-Bissau":"GNB",Guyana:"GUY",Haiti:"HTI",Honduras:"HND","Hong Kong":"HKG",Hungary:"HUN",Iceland:"ISL",India:"IND",Indonesia:"IDN",Iran:"IRN",Iraq:"IRQ",Ireland:"IRL","Isle of Man":"IMN",Israel:"ISR",Italy:"ITA","Ivory Coast":"CIV",Jamaica:"JAM",Japan:"JPN",Jersey:"JEY",Jordan:"JOR",Kazakhstan:"KAZ",Kenya:"KEN",Kiribati:"KIR",Kosovo:"XKX",Kuwait:"KWT",Kyrgyzstan:"KGZ",Laos:"LAO",Latvia:"LVA",Lebanon:"LBN",Lesotho:"LSO",Liberia:"LBR",Libya:"LBY",Liechtenstein:"LIE",Lithuania:"LTU",Luxembourg:"LUX",Macau:"MAC",Macedonia:"MKD",Madagascar:"MDG",Malawi:"MWI",Malaysia:"MYS",Maldives:"MDV",Mali:"MLI",Malta:"MLT","Marshall Islands":"MHL",Mauritania:"MRT",Mauritius:"MUS",Mayotte:"MYT",Mexico:"MEX",Micronesia:"FSM",Moldova:"MDA",Monaco:"MCO",Mongolia:"MNG",Montenegro:"MNE",Montserrat:"MSR",Morocco:"MAR",Mozambique:"MOZ",Myanmar:"MMR",Namibia:"NAM",Nauru:"NRU",Nepal:"NPL",Netherlands:"NLD","Netherlands Antilles":"ANT","New Caledonia":"NCL","New Zealand":"NZL",Nicaragua:"NIC",Niger:"NER",Nigeria:"NGA",Niue:"NIU","North Korea":"PRK","Northern Mariana Islands":"MNP",Norway:"NOR",Oman:"OMN",Pakistan:"PAK",Palau:"PLW",Palestine:"PSE",Panama:"PAN","Papua New Guinea":"PNG",Paraguay:"PRY",Peru:"PER",Philippines:"PHL",Pitcairn:"PCN",Poland:"POL",Portugal:"PRT","Puerto Rico":"PRI",Qatar:"QAT","Republic of the Congo":"COG",Reunion:"REU",Romania:"ROU",Russia:"RUS",Rwanda:"RWA","Saint Barthelemy":"BLM","Saint Helena":"SHN","Saint Kitts and Nevis":"KNA","Saint Lucia":"LCA","Saint Martin":"MAF","Saint Pierre and Miquelon":"SPM","Saint Vincent and the Grenadines":"VCT",Samoa:"WSM","San Marino":"SMR","Sao Tome and Principe":"STP","Saudi Arabia":"SAU",Senegal:"SEN",Serbia:"SRB",Seychelles:"SYC","Sierra Leone":"SLE",Singapore:"SGP","Sint Maarten":"SXM",Slovakia:"SVK",Slovenia:"SVN","Solomon Islands":"SLB",Somalia:"SOM","South Africa":"ZAF","South Korea":"KOR","South Sudan":"SSD",Spain:"ESP","Sri Lanka":"LKA",Sudan:"SDN",Suriname:"SUR","Svalbard and Jan Mayen":"SJM",Swaziland:"SWZ",Sweden:"SWE",Switzerland:"CHE",Syria:"SYR",Taiwan:"TWN",Tajikistan:"TJK",Tanzania:"TZA",Thailand:"THA",Togo:"TGO",Tokelau:"TKL",Tonga:"TON","Trinidad and Tobago":"TTO",Tunisia:"TUN",Turkey:"TUR",Turkmenistan:"TKM","Turks and Caicos Islands":"TCA",Tuvalu:"TUV","U.S. Virgin Islands":"VIR",Uganda:"UGA",Ukraine:"UKR","United Arab Emirates":"ARE","United Kingdom":"GBR","United States":"USA",Uruguay:"URY",Uzbekistan:"UZB",Vanuatu:"VUT",Vatican:"VAT",Venezuela:"VEN",Vietnam:"VNM","Wallis and Futuna":"WLF","Western Sahara":"ESH",Yemen:"YEM",Zambia:"ZMB",Zimbabwe:"ZWE"},g={income:"Total Income",users:"Active users",orders:"New orders",complaints:"Open complaints"},y={today:"Today",yesterday:"Yesterday",week:"Last Week",month:"Last Month",year:"Last Year"},O={0:"all months",1:"january",2:"february",3:"march",4:"april",5:"may",6:"june",7:"july",8:"august",9:"september",10:"october",11:"november",12:"december"},M=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],E=["st","nd","rd","th"],S={histogram:"in specified time range",map:"by countries",summary:"in specified time range vs. total before"},N=function(e,a){return Math.floor(Math.random()*(a-e+1))+e},A=function(e){return e.toISOString().slice(0,10)},_=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},D=function(e,a){var t=Object(l.a)(e,4),n=t[0],r=t[1],i=t[2],o=t[3],c=function(e){var a,t=A(e).split("-").map((function(e){return parseInt(e)})),n=Object(l.a)(t,3),r=n[0],i=n[1],o=n[2],c=(a=o)>=4?E[3]:E[a-1];return[M[e.getDay()],o,c,O[i].split("").map((function(e,a){return 0===a?e.toUpperCase():e})).join(""),r]},s=c(n),u=Object(l.a)(s,5),d=u[0],m=u[1],p=u[2],f=u[3],h=u[4],b=c(r),v=Object(l.a)(b,5),g=v[0],y=v[1],S=v[2],N=v[3],_=v[4],D=c(i),j=Object(l.a)(D,5),C=j[0],I=j[1],w=j[2],B=j[3],L=j[4],R=c(o),T=Object(l.a)(R,5),k=T[0],P=T[1],x=T[2],G=T[3],V=T[4];switch(a.toLowerCase()){case"today":case"yesterday":return"\n      ".concat(g,", ").concat(y).concat(S,"\n      ").concat(G!==N?"of ".concat(N):"","\n      vs.\n      ").concat(k,", ").concat(P).concat(x," of ").concat(G,"\n    ");case"week":case"month":case"year":return"\n      ".concat(g,", ").concat(y).concat(S,"\n      ").concat(N!==f||_!==h?"of ".concat(N):"","\n      ").concat(_!==h?", ".concat(_):"","\n\n      -\n\n      ").concat(d,", ").concat(m).concat(p,"\n      ").concat(f!==B||h!==L?"of ".concat(f):"","\n      ").concat(L!==h?", ".concat(h):"","\n      \n\n      vs.\n      \n      ").concat(k,", ").concat(P).concat(x,"\n      ").concat(G!==B||V!==L?"of ".concat(G):"","\n      ").concat(V!==L?", ".concat(V):"","\n\n      -\n\n      ").concat(C,", ").concat(I).concat(w,"\n\n      of ").concat(B,", ").concat(L,"\n    ");default:return!1}},j=function(e){var a=new Date;return Object.entries({today:[0,0,1,0],yesterday:[1,0,1,0],week:[1,6,1,6],month:[1,27,1,27],year:[1,364,1,364]}).find((function(a){var t=Object(l.a)(a,2),n=t[0];t[1];return n===e}))[1].map((function(e){return new Date(a.setDate(a.getDate()-e))}))},C=function(e,a,t){var n=0,r=0,i=Object(l.a)(t,4),o=i[0],c=i[1],s=i[2],u=i[3];Object.values(e).forEach((function(e){var t=function(a){return Object.keys(e).findIndex((function(e){return e===A(a)}))},i=t(o),l=t(c),d=t(s),m=t(u),p=function(t,n){return Object.values(e).map((function(e){return e[a]})).reduce((function(e,a,r){return r>=t&&r<=n&&(e+=a),e}),0)};r+=p(m,d),n+=p(l,i)}));var d=0!==r?Math.round((n-r)/r*1e3)/10:100;return[n,d]},I=function(e){for(var a=(new Date).getFullYear(),t=Object.values(e).map((function(e){return Object.keys(e)[0].split("-")[0]})),n=[],r=parseInt(Object(b.a)(new Set(Object(b.a)(t))).sort()[0]);r<=a;r++)n.push(r);return n.sort((function(e,a){return a-e}))},w=function(e){return{income:"rgb(41, 191, 215)",users:"rgb(188, 215, 74)",orders:"rgb(254, 152, 51)",complaints:"rgb(250, 80, 80)"}[e]},B=function(e){return e<10?"0".concat(e):"".concat(e)},L=function(e,a){if(0===e.length)return e;if("days"===a){for(var t=e[0].split("-"),n=Object(l.a)(t,3),r=n[0],i=n[1],o=n[2],c=parseInt(o)-1;c>0;c--)e.unshift("".concat(r,"-").concat(i,"-").concat(B(c)));return e}if("months"===a){for(var s=e[0],u=e[e.length-1],d=s.split("-"),m=Object(l.a)(d,2),p=m[0],f=m[1],h=u.split("-"),b=Object(l.a)(h,2),v=b[0],g=b[1],y=parseInt(f)-1,O=parseInt(g)+1,M=y;M>0;M--)e.unshift("".concat(p,"-").concat(B(M)));for(var E=O;E<=12;E++)e.push("".concat(v,"-").concat(B(E)));return e}},R=function(e,a){var t=e.map((function(e){return Object(l.a)(e,1)[0]})),n=Object(b.a)(new Set(t)),r=n.map((function(e){return e.split("-").slice(0,2).join("-")})),i=Object(b.a)(new Set(r)),o=L(n,"days"),c=L(i,"months");return a?c:o},T=function(e,a,t,n){var r={},i={},o=w(a).match(/\d+/g),c=Object(l.a)(o,3),s=c[0],u=c[1],d=c[2],m=parseInt(t),p=parseInt(n);Object.entries(e).forEach((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];i[n]=Object.entries(r).filter((function(e){var a=Object(l.a)(e,1)[0].split("-").map((function(e){return parseInt(e)})),t=Object(l.a)(a,2),n=t[0],r=t[1];return(0===m||r===m)&&n===p})).map((function(e){var t=Object(l.a)(e,2);t[0];return t[1][a]})).reduce((function(e,a){return e+a}),0)}));var f=Object.values(i),h=Math.max.apply(Math,Object(b.a)(f)),g=f.reduce((function(e,a){return e+a}),0);return Object.keys(e).forEach((function(e){var t=v[e];if(t){var n=i[e],o=n/g*100,c=n/h*.9+.1;n&&(r[t]={fillColor:"rgba(".concat(s,",").concat(u,",").concat(d,",").concat(c,")"),countryTotal:n,countryPercent:o,field:a})}})),r},k=function(e,a,t,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=parseInt(t),o=parseInt(n),s=[];Object.values(e).forEach((function(e){s.push.apply(s,Object(b.a)(Object.entries(e)))}));var u=s.filter((function(e){var a=Object(l.a)(e,1)[0].split("-").map((function(e){return parseInt(e)})),t=Object(l.a)(a,2),n=t[0],c=t[1];return r?n<o||n===o&&c<i:(0===i||c===i)&&n===o})).sort((function(e,a){var t=Object(l.a)(e,1)[0],n=Object(l.a)(a,1)[0],r=function(e){return parseInt(e.split("-").join(""))};return r(t)-r(n)})),d=0===i,m=R(u,d),p=m.map((function(e,n){var r=u.filter((function(a){return Object(l.a)(a,1)[0].includes(e)})).map((function(e){var t=Object(l.a)(e,2);t[0];return t[1][a]})).reduce((function(e,a){return e+a}),0);return Object(c.a)({id:"".concat(n+1," ").concat(O[t]),month:O[t]},a,r)}));return p},P=function(e,a,t){var n=function(n,r){return k(e,n,a,t,r).map((function(e){return e[n]})).reduce((function(e,a){return e+a}),0)};return function(){var e=[];for(var a in g){var t=n(a,!0),r=n(a,!1),i=t+r;if(0!==i){var o,s=t/i*100,l=r/i*100;e.unshift((o={id:a},Object(c.a)(o,"".concat(a,"Before"),s),Object(c.a)(o,"".concat(a,"Current"),l),o))}}return e}()},x=function(e){var a={};return e.forEach((function(e){var t=e.country,n=Object(l.a)(e.startDate,3),r=n[0],i=n[1],o=n[2],c=new Date(r,i-1,o),s=new Date,u=A(c),d=A(s);for(a[t]={};u!==d;)c.setDate(c.getDate()+1),u=A(c),a[t][u]={},a[t][u].income=N(0,3e3),a[t][u].users=N(0,80),a[t][u].orders=N(0,50),a[t][u].complaints=N(0,5)})),a},G=[{country:"Poland",startDate:[2016,8,3]},{country:"United States",startDate:[2017,2,24]},{country:"Australia",startDate:[2019,1,12]},{country:"China",startDate:[2017,10,15]},{country:"Germany",startDate:[2016,11,13]},{country:"United Kingdom",startDate:[2017,1,7]},{country:"Spain",startDate:[2019,2,27]},{country:"Sweden",startDate:[2018,12,1]},{country:"United Arab Emirates",startDate:[2019,2,12]},{country:"Switzerland",startDate:[2017,1,23]}],V=t(194),U=t.n(V),z=(t(244),function(e){var a,t=e.id,n=e.type,i=e.isRotated,o=h()("Icon","Icon--".concat(t),(a={},Object(c.a)(a,"Icon--".concat(n),n),Object(c.a)(a,"Icon--rotated",i),a));return r.a.createElement("svg",{className:o,viewBox:"0 0 100 100"},r.a.createElement("use",{href:"".concat(U.a,"#").concat(t)}))}),K=(t(245),function(e){var a=e.className;return r.a.createElement("div",{className:a},r.a.createElement("h2",{className:"Intro__heading"},"dashboard"),r.a.createElement(z,{id:"logo"}),r.a.createElement("div",{className:"loader"}))}),F=(t(246),function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(u.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){n.handleValue()},n.componentDidUpdate=function(){n.intervalId||(n.setState({animatedValue:0}),n.handleValue())},n.componentWillUnmount=function(){clearInterval(n.intervalId),n.intervalId=null},n.handleValue=function(){n.intervalId=setInterval((function(){var e=n.state.animatedValue,a=n.props.value,t=Math.ceil(a/80);Math.abs(e)<=Math.abs(a)?n.setState((function(e){return{animatedValue:e.animatedValue+t}})):(n.setState({animatedValue:a}),clearInterval(n.intervalId),n.intervalId=null)}),10)},n.intervalId=null,n.state={animatedValue:0},n}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props,a=e.id,t=e.heading,n=e.percentage,i=this.state.animatedValue,o=h()("TextPanel__percentage",{"TextPanel__percentage--positive":n>=0,"TextPanel__percentage--negative":n<0}),c=0!==n?"".concat(n,"%"):"stable",s=n>=0;return r.a.createElement("section",{className:"TextPanel TextPanel--".concat(a)},r.a.createElement("header",{className:"TextPanel__header"},r.a.createElement("h3",{className:"TextPanel__heading"},t),r.a.createElement(z,{id:a,type:"infographic"})),r.a.createElement("p",{className:"TextPanel__value"},_(i),"income"===a?" $":""),r.a.createElement("div",{className:o},r.a.createElement(z,{id:"indicator",isRotated:s}),r.a.createElement("span",null,c)))}}]),t}(n.PureComponent)),W=(t(247),function(e){var a=e.id,t=e.heading,n=e.info,i=e.isMaximized,o=e.onMaximize,c=e.isDataLoading,s=i?"minimize":"maximize",l=h()("VisualPanel__overlay",{"VisualPanel__overlay--visible":c});return r.a.createElement("section",{className:"VisualPanel VisualPanel--".concat(a)},r.a.createElement("header",{className:"VisualPanel__header"},r.a.createElement("h3",{className:"VisualPanel__heading"},t,r.a.createElement("span",{className:"VisualPanel__heading--info"}," - ".concat(n))),r.a.createElement("button",{className:"VisualPanel__button",onClick:function(){return o(a)}},r.a.createElement(z,{id:s}))),r.a.createElement("div",{className:l},r.a.createElement("div",{className:"loader loader--panel"})),e.children)}),H=(t(248),function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(u.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){document.addEventListener("mousedown",n.exitDropdownMenu,!1)},n.componentWillUnmount=function(){document.removeEventListener("mousedown",n.exitDropdownMenu,!1)},n.exitDropdownMenu=function(e){n.state.isOpen&&!n.dropdown.current.contains(e.target)&&n.toggleDropdown()},n.toggleDropdown=function(){n.props.isDataLoading||n.setState((function(e){return{isOpen:!e.isOpen}}))},n.handleMenu=function(e){var a=n.props,t=a.type,r=a.onMenuClick;n.toggleDropdown(),"period"===t?r(e):r(t,e)},n.renderMenu=function(){var e=n.props,a=e.type,t=e.menuList,i=Array.isArray(t),o=i?t:Object.keys(t),c="\n      Dropdown__button\n      Dropdown__button--menu\n      Dropdown__button--".concat(a,"\n    ");return r.a.createElement("ul",{className:"Dropdown__list"},o.map((function(e){var a=i?e:t[e];return r.a.createElement("li",{key:e,className:"Dropdown__item"},r.a.createElement("button",{className:c,onClick:function(){return n.handleMenu(e)}},a))})))},n.dropdown=r.a.createRef(),n.state={isOpen:!1},n}return Object(d.a)(t,[{key:"render",value:function(){var e=this.state.isOpen,a=this.props,t=a.type,n=a.currentId,i=a.menuList,o=a.isDataLoading,c=Array.isArray(i)?n:i[n],s=h()("Dropdown__button","Dropdown__button--".concat(t),{"Dropdown__button--active":e,"Dropdown__button--disabled":o});return r.a.createElement("div",{className:"Dropdown Dropdown--".concat(t),ref:this.dropdown},r.a.createElement("button",{className:s,onClick:this.toggleDropdown},r.a.createElement("span",{className:"Dropdown__label"},c),r.a.createElement(z,{id:"dropdown",isRotated:e})),e&&this.renderMenu())}}]),t}(n.Component)),Y=(t(249),function(e){var a=e.id,t=e.onClick,n=e.isDataLoading,i=h()("Button",{"Button--disabled":n});return r.a.createElement("button",{className:i,onClick:function(){return!n&&t()}},r.a.createElement("span",{className:"Button__text"},a),r.a.createElement(z,{id:a,type:"infographic"}))}),Z=t(195),J=(t(192),function(e){var a=e.data,t=e.keys,n=e.type,i=e.layout,o=e.axisRight,c=void 0===o?null:o,l=e.axisBottom,u=void 0===l?null:l,d=e.colors,m=e.enableGridX,p=void 0!==m&&m,f=e.enableGridY,h=void 0!==f&&f,b=e.gridXValues,v=Object(s.a)({top:70,right:30,bottom:30},e.margin),y={from:"color",modifiers:[["darker","1.6"]]};return r.a.createElement("div",{className:"BarChart"},r.a.createElement(Z.a,{data:a,keys:t,indexBy:"id",margin:v,padding:.6,layout:i,colors:function(e){return d(e.id)},colorBy:"id",borderColor:y,axisTop:null,axisRight:c,axisBottom:u,axisLeft:{tickSize:5,tickPadding:0,tickRotation:0,tickValues:3},enableLabel:!1,enableGridX:p,enableGridY:h,gridXValues:b,gridYValues:5,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:y,legends:[],tooltip:function(e){var a=e.id,t=e.value,i=e.indexValue,o="histogram"===n&&i.includes("all months")?O[parseInt(i)]:null,c="histogram"===n?"".concat(g[a],": ").concat(_(t)).concat("income"===a?" $":""):"".concat(i,": ").concat(t.toFixed(1),"%"),s="histogram"===n?o||"Date: ".concat(i):"".concat(a.includes("Before")?"Before current period":"During current period");return r.a.createElement("div",{className:"tooltip"},r.a.createElement("h4",{className:"tooltip__heading"},c),r.a.createElement("p",{className:"tooltip__text"},s))},theme:{axis:{textColor:"#fff",textTransform:"uppercase",tickColor:"#fff",ticks:{line:{stroke:"fff"},text:{fill:"#555",fontWeight:"bold",fontFamily:"Nunito",fontSize:"11px",textTransform:"uppercase"}}},grid:{line:{stroke:"#fff",strokeWidth:2,strokeDasharray:"2 2"}},tooltip:{container:{padding:"10px 15px",borderRadius:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.3)"}}},animate:!0,motionStiffness:92,motionDamping:10}))}),X=t(204),q=t.n(X),Q=t(68),$=t.n(Q),ee=(t(385),function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(u.a)(this,t),(n=a.call(this,e)).resize=function(){n.map&&n.map.resize()},n.clear=function(){for(var e=n.container.current,a=0,t=Array.from(e.childNodes);a<t.length;a++){var r=t[a];e.removeChild(r)}},n.drawMap=function(){var e=n.props.data,a=new q.a(Object.assign({},Object(s.a)({},n.props),{element:n.container.current,projection:"mercator",responsive:!0,fills:{defaultFill:"#fff"},data:e,geographyConfig:{borderWidth:.5,borderOpacity:1,borderColor:"#fff",highlightFillColor:function(e){return e.fillColor||"#fff"},highlightBorderColor:function(e){return e.field?"#555":"#fff"},highlightBorderWidth:1,popupTemplate:function(e,a){var t=a.countryPercent,n=a.field;if(a)return'\n                <div class="hoverinfo tooltip">\n                  <h4 class="tooltip__heading">'.concat(e.properties.name,'</h4>\n                  <p class="tooltip__text">').concat(n,':\n                    <span class="tooltip__text--bold">\n                      ').concat(_(a.countryTotal),'\n                    </span>\n                  </p>\n                  <p class="tooltip__text">Share:\n                    <span class="tooltip__text--bold">                  \n                      ').concat(t.toFixed(1),"%\n                    </span>\n                  </p>\n                </div>            \n              ")}},done:function(e){e.svg.call($.a.behavior.zoom().scaleExtent([1,10]).on("zoom",(function(){e.svg.selectAll("g").attr("transform","translate("+$.a.event.translate+")scale("+$.a.event.scale+")")})))}}));n.map=a,n.container.current.style.paddingBottom=0},n.container=r.a.createRef(),n}return Object(d.a)(t,[{key:"componentDidMount",value:function(){this.drawMap(),window.addEventListener("resize",this.resize)}},{key:"componentWillReceiveProps",value:function(){this.clear()}},{key:"componentDidUpdate",value:function(){this.drawMap()}},{key:"componentWillUnmount",value:function(){this.clear(),window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){return r.a.createElement("div",{ref:this.container,className:"Map"})}}]),t}(n.Component)),ae=(t(386),function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(u.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){var e=n.state,a=e.data,t=e.stats.period,r=e.analytics,i=e.analytics,o=i.field,c=i.month,u=i.year,d=T,m=k,p=P,f=w,h=g;new Promise((function(e,a){setTimeout(e,1e3)})).then((function(){return[d(a,o,c,u),m(a,o,c,u),p(a,c,u)]})).then((function(e){var i=Object(l.a)(e,3),o=i[0],c=i[1],u=i[2],d={};Object.keys(h).forEach((function(e){return d[e]=f(e)})),n.handleStats(t),n.setState({yearsArray:I(a),analytics:Object(s.a)({},r,{mapData:o,histData:c,summaryData:u}),colors:d,isMounted:!0,isIntroVisible:!1})})).then((function(){return setTimeout((function(){return n.setState({isIntroMounted:!1})}),1e3)}))},n.handleStats=function(e){var a=n.state.data,t=C,r=D,i=g,o=j(e),c={};Object.keys(i).forEach((function(e){var n=t(a,e,o),r=Object(l.a)(n,2),i=r[0],s=r[1];c[e]={value:i,percentage:s}}));var u={period:e,timeRanges:r(o,e)};n.setState(Object(s.a)({},c,{stats:u}))},n.handleAnalytics=function(e,a){var t=n.state,r=t.data,i=t.analytics,o=n.state.analytics,u=o.field,d=o.month,m=o.year,p=T,f=k,h=P;u="field"===e?a:u,d="month"===e?a:d,m="year"===e?a:m,n.setState({isDataLoading:!0});new Promise((function(e,a){setTimeout(e,500)})).then((function(){return[p(r,u,d,m),f(r,u,d,m)]})).then((function(t){var o,u=Object(l.a)(t,2),p=u[0],f=u[1],b="month"===e||"year"===e?h(r,d,m):i.summaryData;n.setState({analytics:Object(s.a)({},i,(o={},Object(c.a)(o,e,a),Object(c.a)(o,"mapData",p),Object(c.a)(o,"histData",f),Object(c.a)(o,"summaryData",b),o)),isDataLoading:!1})}))},n.renderAnalytics=function(e){var a=n.state,t=a.analytics,i=t.field,o=t.mapData,c=t.histData,s=t.summaryData,l=a.colors,u="No data for this time range...";switch(e){case"histogram":return c.length>0?r.a.createElement(J,{data:c,keys:[i],type:"histogram",layout:"vertical",margin:{left:60},colors:function(e){return l[e]},enableGridX:!0,enableGridY:!0}):r.a.createElement("div",{className:"VisualPanel__alert"},u);case"map":return r.a.createElement(ee,{data:o});case"summary":var d=s.length>0,m=!!d,p=d>0?{tickSize:5,tickPadding:0,tickRotation:0,tickValues:[20,40,60,80]}:null;return d?r.a.createElement(J,{data:s,keys:["incomeBefore","incomeCurrent","usersBefore","usersCurrent","ordersBefore","ordersCurrent","complaintsBefore","complaintsCurrent"],type:"summary",layout:"horizontal",margin:{left:100},colors:function(e){return e.includes("Current")?l[e.replace("Current","")]:"#fff"},enableGridX:m,gridXValues:[20,40,60,80],axisBottom:p}):r.a.createElement("div",{className:"VisualPanel__alert"},u);default:return!1}},n.handleMaximize=function(e){n.setState((function(a){return{maximizedPanel:a.maximizedPanel===e?null:e}}))},n.handleExport=function(e,a,t){var n=new Blob([e],{type:t});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,a);else{var r=document.createElement("a"),i=URL.createObjectURL(n);r.href=i,r.download=a,document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(i)}),0)}},n.date=new Date,n.state={isIntroVisible:!0,isIntroMounted:!0,isDataLoading:!1,data:x(G),isMounted:!1,income:{},users:{},orders:{},complaints:{},stats:{period:"week",timeRanges:""},analytics:{field:"income",month:n.date.getMonth()+1,year:n.date.getFullYear(),mapData:{},histData:[],summaryData:[]},yearsArray:[],colors:{},maximizedPanel:null},n}return Object(d.a)(t,[{key:"render",value:function(){var e=this,a=this.state,t=a.isIntroVisible,n=a.isIntroMounted,i=a.isDataLoading,o=a.data,s=a.stats,u=s.period,d=s.timeRanges,m=a.analytics,p=m.field,f=m.month,b=m.year,v=a.yearsArray,M=a.maximizedPanel,E=a.isMounted,N=g,A=y,_=S,D={field:[N,p],month:[O,f],year:[v,b]},j=h()("Intro",{"Intro--visible":t}),C=h()("App__section","App__section--analytics",Object(c.a)({},"App__section--".concat(M,"Max"),M)),I=d?d.split("vs.")[0]:"",w=d?d.split("vs.")[1]:"";return r.a.createElement("main",{className:"App"},n&&r.a.createElement(K,{className:j}),r.a.createElement("header",{className:"App__header App__header--main"},r.a.createElement("h1",{className:"App__heading"},"dashboard"),r.a.createElement(z,{id:"logo",type:"mainLogo"})),r.a.createElement("section",{className:"App__section App__section--stats"},r.a.createElement("header",{className:"App__header App__header--stats"},r.a.createElement("h2",{className:"App__heading App__heading--section"},"Recent"),r.a.createElement("p",{className:"App__info"},r.a.createElement("span",{className:"App__info--current"},I," vs."),r.a.createElement("span",{className:"App__info--before"},w)),r.a.createElement(H,{currentId:u,type:"period",isDataLoading:i,menuList:A,onMenuClick:this.handleStats})),E&&Object.entries(N).map((function(a){var t=Object(l.a)(a,2),n=t[0],i=t[1],o=e.state[n],c=o.value,s=o.percentage;return r.a.createElement(F,{key:n,id:n,heading:i,value:c,percentage:s})}))),r.a.createElement("section",{className:C},r.a.createElement("header",{className:"App__header App__header--analytics"},r.a.createElement("h2",{className:"App__heading App__heading--section"},"Analytics"),Object.entries(D).map((function(a){var t=Object(l.a)(a,2),n=t[0],o=Object(l.a)(t[1],2),c=o[0],s=o[1];return r.a.createElement(H,{key:s,currentId:s,type:n,isDataLoading:i,menuList:c,onMenuClick:e.handleAnalytics})}))),Object.entries(_).map((function(a){var t=Object(l.a)(a,2),n=t[0],o=t[1],c=e.state.maximizedPanel===n,s="summary"===n?"summary":N[p];return r.a.createElement(W,{key:n,id:n,isDataLoading:i,heading:s,info:o,isMaximized:c,onMaximize:e.handleMaximize},e.renderAnalytics(n))})),r.a.createElement("footer",{className:"App__footer"},r.a.createElement(Y,{id:"export",label:"export",isDataLoading:i,onClick:function(){return e.handleExport(JSON.stringify(o),"dashboard","text/plain")}}),r.a.createElement(Y,{id:"print",label:"print",isDataLoading:i,onClick:function(){return window.print()}}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[238,1,2]]]);
//# sourceMappingURL=main.0dbafbe1.chunk.js.map